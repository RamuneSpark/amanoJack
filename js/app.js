let e=[],n=["Makinas-4-Flat","Makinas-4-Square","FGMediumHankaku","NotoSansJP-Medium"],c={};for(let t=0;t<n.length;t++)e[t]=document.createElement("p"),e[t].style.fontFamily=n[t],e[t].textContent="アマノ弱",c[n[t]]=e[t].style.fontFamily;function r(t,e){var n,o=document.createElement("div");return o.id=t,document.body.appendChild(o),"img"===e&&(n=document.createElement("img"),o.appendChild(n),n.id=t+"-@-IMG",n.style.display="none"),"txt"===e&&((n=document.createElement("span")).classList.add("mainTxt"),n.id=t+"-@-SPAN",o.appendChild(n)),o}function o(t){t=t.id;return document.getElementById(t+"-@-IMG")}function l(t){t=t.id;return document.getElementById(t+"-@-SPAN")}function G(t,e){""===e?m(t):("block"!==(t=o(t)).style.display&&(t.style.display="block"),!1===t.src.endsWith(e)&&(t.src=e))}function u(t,e){t=l(t);t&&t.innerHTML!=="<nobr>"+e+"</nobr>"&&(t.innerHTML="<nobr>"+e+"</nobr>")}function m(t){var e=o(t),t=l(t);null!==e&&(e.style.display="none",e.src=""),null!==t&&(t.innerHTML="")}function d(t,e,n){"no"!==e&&(isNaN(e)?t.style.left=e:t.style.left=e+"px"),"no"!==n&&(isNaN(n)?t.style.top=n:t.style.top=n+"px")}function a(t,e){d(t,e.x,e.y)}let p="-50%",U="0%",i=U,W="-100%",q=W;function h(t,e,n,o=0,l=1,a=1,i=1){let r="translate("+e+", "+n+")";0!==o&&(r+="rotate("+o+"deg)"),1!==l&&(r+="scale("+l+")"),1===a&&1===i||(r+="scaleX("+a+") scaleY("+i+")"),t.style.transform=r}function s(t){let e=t;return e=(e=(e=(e=e.replace(/\[/g,"<ruby>")).replace(/\]/g,"</ruby>")).replace(/\(/g,"<rt>")).replace(/\)/g,"</rt>")}function Y(t){let e=t;return e=(e=(e=(e=e.replace(/\[/g,"<ruby>")).replace(/\]/g,"</ruby>")).replace(/\{/g,"<rt>")).replace(/\}/g,"</rt>")}function f(t,e,n,o,l,a){"green"===e?e="#BFFFB0":"blue"===e?e="#AFD0FF":"red"===e&&(e="#FFC6BB"),t.style.color!==e&&(t.style.color=e),t.style.fontFamily!==n&&(t.style.fontFamily=n),t.style.fontSize!==o&&(isNaN(o)?t.style.fontSize=o:t.style.fontSize=o+"px"),t.style.fontWeight!==l&&(t.style.fontWeight=l),t.style.textAlign!==a&&(t.style.textAlign=a)}function K(t,e){"green"==e?e="#BFFFB0":"blue"==e?e="#AFD0FF":"red"==e&&(e="#FFC6BB"),t.style.color!==e&&(t.style.color=e)}function y(t,o,l){if(0!==o){"green"==l?l="#17890B":"blue"==l?l="#012DD4":"red"==l&&(l="#CE2807");let n="";for(let e=0;e<16;e++)for(let t=1;t<=2;t++){var a=2*Math.PI*(e/16),i=Math.cos(a)*(t/2)*o,a=Math.sin(a)*(t/2)*o;1===t&&0===e||(n+=","),n+=i+"px "+a+"px 0px "+l}t.style.textShadow!==n&&(t.style.textShadow=n)}else 0===o&&""!==t.style.textShadow&&(t.style.textShadow="")}let V=[];function g(t,e){e.appendChild(t),V.push(t),t.style.position="absolute",t.querySelectorAll("img").forEach(t=>{t.addEventListener("dragstart",function(t){t.preventDefault()})})}let X,j;function $(){j=navigator.userAgent.match(/iPhone|iPad|Android.+Mobile|Android/)?(X=!0,navigator.userAgent.match(/iPhone|iPad/)?"iOS":"others"):(X=!1,"others")}function Q([t,e],[n,o]){var l={},n=n-t,t=o-e,o=n*n+t*t;return 0==(o=Math.sqrt(o))?(l.x=0,l.xLength=0,l.y=1,l.yLength=0,l.z=1):(l.x=n/o,l.xLength=n,l.y=t/o,l.yLength=t,l.z=o),l}function Z([t,e],[n,o]){n-=t,t=o-e;let l;return Math.abs(t)>Math.abs(n)?l=0<=t?"down":"up":Math.abs(t)<Math.abs(n)?l=0<n?"right":"left":((l=["diagonal"])[1]=0<=t?"down":"up",l[2]=0<n?"right":"left"),console.log(l),l}function tt(t,e){var n=[];let o=!1,l=!1,a=!1;return n[1]=t.getBoundingClientRect(),n[2]=e.getBoundingClientRect(),n[1].top<n[2].top&&(n[2]=t.getBoundingClientRect(),n[1]=e.getBoundingClientRect()),n[2].bottom>n[1].top&&(o=!0),n[1]=t.getBoundingClientRect(),n[2]=e.getBoundingClientRect(),n[2].left<n[1].left&&(n[2]=t.getBoundingClientRect(),n[1]=e.getBoundingClientRect()),n[1].right>n[2].left&&(l=!0),a=!(!l||!o)}function et(t,e){var n=[],o=tt(t,e);let l=!1;n[1]=t.getBoundingClientRect(),n[2]=e.getBoundingClientRect();t=[,{},{}];return o&&(t[1].y=(n[1].top+n[1].bottom)/2,t[2].y=(n[2].top+n[2].bottom)/2,t[1].x=(n[1].left+n[1].right)/2,t[2].x=(n[2].left+n[2].right)/2,l=Z([t[2].x,t[2].y],[t[1].x,t[1].y])),l}function nt(t,e){let n=0;t.addEventListener("touchstart",function(t){return t.preventDefault(),n=1,it||e(),!1}),t.addEventListener("mousedown",function(t){return t.preventDefault(),it||(0===n&&e(),n=0),!1})}function ot(t,e){return(t%e+e)%e}function lt(t,e,n){n=(n[1]-e[1])/(n[0]-e[0]);return n*t+(e[1]-n*e[0])}function at(t,o=null,l=-1,a=null,e=!0){it=!0;let n=e?"animate__backInLeft":"animate__backInRight";Swal.fire({showClass:{popup:"animate__animated "+n+" animate__faster"},hideClass:{popup:"animate__animated animate__fadeOutDown animate__faster"},target:b,...t}).then(t=>{let e;var n=Swal.getPopup();n.classList.remove("animate__fadeOutDown"),t.isConfirmed?e="animate__backOutRight":t.isDismissed&&(e="animate__fadeOutDown"),n.classList.add(e),null!==a&&a(t),-1===l&&(l=200),null!==o?setTimeout(()=>{it=!1,o(t)},l):it=!1})}$();let it=!1;function rt(t,e,n){return t.k++,e<=t.k&&(t.p++,t.k=0),t.p%=n,t}let b=r("screen","img"),st,ct=void 0,x=101,ut=0,mt=0,dt=.15,pt=0;function ht(){99===(x=void 0!==ct&&0===x?99:x)?(mt-=dt)<=0&&(mt=0,x=100):100===x?(mt-=dt)<=0&&(mt=0,x=101):101===Math.abs(x)?++pt/2>=w/8/2&&(pt=0,x=101===x?(st=ct,ut=0,Zn(),-101):-100):-100==x?x=-99:-99==x&&1<=(mt+=dt)&&(mt=1,x=0,ct=void 0),b.style.opacity=mt}let ft=540,yt=960,gt=window.visualViewport.width,bt=window.visualViewport.height,xt=100,Ft=!1;function Ct(){$(),gt=window.visualViewport.width,bt=window.visualViewport.height,gt/bt<ft/yt?xt=gt/ft:gt/bt>=ft/yt&&(xt=bt/yt),h(b,p,p,0,xt),Ft||(b.style.width=ft+"px",b.style.height=yt+"px",M.style.width=ft+"px",M.style.height=yt+"px",Ft=!0)}window.addEventListener("resize",Ct);let wt=new AudioContext,vt={},F=[],Bt=[],C=[];for(let t=0;t<32;t++)F[t]=null,Bt[t]=null,C[t]=void 0;function St(){for(let t=0;t<32;t++)void 0!==C[t]&&(It(t),C[t]=void 0)}function Mt(t){return null===t||t.customStop}function kt(e,n,o,l,a=0,i=0){if(1<=Le){F[e]&&(F[e].stop(),F[e].disconnect(),F[e]=null);let t=wt.createBufferSource();t.customTag=Math.floor(1e13*Math.random());var r=wt.createGain();t.buffer=vt[l],r.gain.value=n,(t.loop=o)&&(t.loopStart=i,0!==a)&&(t.loopEnd=a),t.connect(r),r.connect(wt.destination),t.start(),t.customStop=!1,F[e]=t,Bt[e]=r.gain,setTimeout(()=>{null!==Bt[e]&&t.customTag===F[e].customTag&&(Bt[e].value=n)},10),F[e].onended=()=>{F[e].customStop=!0}}}function It(t){null!==F[t]&&"play"==C[t]?(F[t].resume(),F[t].customStop=!1):null!==F[t]&&"stop"==C[t]&&(F[t].stop(),F[t].customStop=!0),x<=0&&("confirm"===C[t]?kt(t,1.3,!1,C[t]):"select"===C[t]?kt(t,1.4,!1,C[t]):"back"===C[t]?kt(t,1.8,!1,C[t]):"ok"===C[t]?kt(t,.76,!1,C[t]):"miss"===C[t]?kt(t,.94,!1,C[t]):"pause"===C[t]?kt(t,1.2,!1,C[t]):"finish"===C[t]?kt(t,1.5,!1,C[t]):"answer"===C[t]?kt(t,.6,!1,C[t]):"allClear"===C[t]?kt(t,2.8,!1,C[t]):"pageShift"===C[t]?kt(t,.9,!1,C[t]):"count"===C[t]?kt(t,.6,!1,C[t]):"bgm"===C[t]&&2===Le?kt(t,1.06,!0,C[t],36,2.4):"result"===C[t]&&2===Le?kt(t,1.16,!0,C[t],31.2,2.4):"ready"===C[t]&&kt(t,.4,!1,C[t]))}let Tt=["confirm","select","back","ok","miss","pause","finish","answer","allClear","pageShift","count","bgm","result","ready"];async function Et(){for(let t=0;t<Tt.length;t++){var e=Tt[t],n=await(await fetch("sound/"+e+".ogg")).arrayBuffer();vt[e]=await wt.decodeAudioData(n)}}Et();let w=50,Ot=1e3/w,_t=null,Nt=(setTimeout(()=>{Ct(),_t=setInterval(Rt,Ot)},500),null);function Dt(){var t;"game"!==S||1===Kt||null===Nt||(t=new Date,Math.abs(t.getTime()-Nt.getTime())<=2500)?Nt=new Date:(clearInterval(_t),window.location.reload())}function Rt(){Dt(),"check"===st?ro||(ro=!0,co()):$n(),ht(),St()}function At(){}change_level=.1,k2ndTime=40,k3rdTime=8;let Lt=r("bg","img"),zt=(g(Lt,b),d(Lt,"50%","50%"),h(Lt,p,p),Lt.style.zIndex=-1,G(Lt,""),r("test","img")),Pt=(g(zt,b),d(zt,110,50),h(zt,p,p,0,1),zt.style.zIndex=1001,G(zt,""),r("scoreTxt","txt")),Ht=(g(Pt,b),d(Pt,"60%","100%"),h(Pt,W,q),f(Pt,"#C6F5C9",c["Makinas-4-Square"],"40","bold","right"),y(Pt,4,"#2D8D7F"),Pt.style.zIndex=5e3,u(Pt,""),r("score","txt")),v=(g(Ht,b),d(Ht,"98%","100%"),h(Ht,W,q),f(Ht,"#C6F5C9",c.FGMediumHankaku,"52","normal","right"),y(Ht,4,"#2D8D7F"),Ht.style.zIndex=5e3,u(Ht,""),0),Jt=r("time","txt"),B=(g(Jt,b),d(Jt,"10%","100%"),h(Jt,p,q),f(Jt,"#C6F2F5",c.FGMediumHankaku,"55","normal","right"),y(Jt,4,"#2D568D"),Jt.style.zIndex=5e3,u(Jt,""),[]),Gt=[];for(let n=0;n<4;n++){B[n]={m:0,y:34,time:0,opacity:0,rotate:0,yTheta:0,vec:1,exist:0};let t=[96,180,265,352],e=[104,104,104,82];Gt[n]=r("logo"+n,"img"),g(Gt[n],b),d(Gt[n],"50%","30%"),h(Gt[n],p,p),Gt[n].style.zIndex=100,Gt[n].style.transformOrigin=t[n]+"px "+e[n]+"px",Gt[n].style.mixBlendMode="normal",G(Gt[n],"")}let Ut=r("pause","txt"),S=(g(Ut,b),d(Ut,"50%","50%"),h(Ut,p,p),f(Ut,"#D89FAA",c["Makinas-4-Square"],"60","bold","right"),y(Ut,4,"#94395B"),Ut.style.zIndex=5e3,u(Ut,""),"title"),Wt=[60*w,70*w,80*w],qt=70*w,Yt=100,Kt=0,Vt=0,Xt=!1,jt=!1;function $t(){qt=3===T&&5===A()?60*w:3===T&&6===A()?70*w:Wt[E()],gn=4,rn=null,hn=0,ln(),Kt=0,fn=0,yn=0,v=0,D=0,Ze=0,tn=0,C[5]="bgm",Ne=!1,$e()}function Qt(){O[3].m=0,O[4].m=0,O[5].m=0,O[6].m=0,O[7].m=0,O[8].m=0,O[9].m=0,An(),m(t);for(let t=0;t<4;t++)B[t]={m:0,y:34,time:0,opacity:0,rotate:0,yTheta:0,vec:1},m(Gt[t]);m(Ae),m(Ke),m(Ye),m(qe)}function Zt(t){let e=t;return e<10?e="0"+e:99990<e&&(e="99990"),e}let M=document.createElement("div"),k=(M.id="gameScreen",b.appendChild(M),M.style.position="absolute",d(M,"50%","50%"),h(M,p,p),M.style.zIndex=0,M.style.opacity=1,{m:0,t:"",x:740,c:"p",time:0,i:0}),te=r("scoreCenter","txt"),ee=(g(te,M),h(te,p,p),f(te,"#C6F5C9",c.FGMediumHankaku,"52","normal","center"),y(te,4,"#2D8D7F"),te.style.zIndex=5e3,te.style.pointerEvents="none",u(te,""),["normal","right","left"]),ne=0,oe=ne;function le(){oe++,oe%=ee.length,J.hand=oe,C[1]="select";for(let t=0;t<pe[E()];t++)I[t].x=Qe(t).x,I[t].y=Qe(t).y;no()}let ae=[],ie=[],re=[],se=[],I=[],ce=13,ue=[];for(let t=0;t<ce;t++)ue[t]={p:0,k:0};let me=[2,4,4,2,4,4,4,2,2,2,4,4,2],de=[8,10,15,10,10,6,10,10,15,18,14,8,9],pe=[9,15,21],T=1;function E(){return T<=2?T:5===A()?yn%2==0?1:0:6===A()?2:1}let he=[300,500,1e3],fe=1,O=[],_=[];for(let t=0;t<15;t++)O[t]={m:0,x:0,y:0,tx:p,ty:p,index:t,path:"",brightness:1,opacity:1,use:!0},_[t]=r("UI_button"+t,"img"),g(_[t],b),d(_[t],200,100*t),h(_[t],p,p),_[t].style.zIndex=10;let ye=0,ge=0,be=r("etc","other"),xe=(g(be,b),d(be,"50%","50%"),h(be,p,p),be.style.zIndex=2999,be.style.mixBlendMode="multiply",be.style.backgroundColor="#2A2A3C",r("etc2","other")),Fe=(g(xe,b),d(xe,"50%","50%"),h(xe,p,p),xe.style.zIndex=3e3,r("result","other")),Ce=(g(Fe,b),d(Fe,"50%","50%"),h(Fe,p,p),Fe.style.zIndex=100,Fe.style.mixBlendMode="multiply",Fe.style.backgroundColor="#2A2A3C",0),N=r("result2","other"),we=(g(N,b),d(N,"50%","50%"),h(N,p,p),N.style.zIndex=100,N.style.mixBlendMode="normal",r("resultLine","other")),ve=(g(we,N),d(we,"50%","67%"),h(we,p,p),we.style.zIndex=100,we.style.backgroundColor="#FFFFFF",150),Be=r("resultTxt","txt"),Se=(g(Be,N),d(Be,"50%","15%"),h(Be,p,p),f(Be,"#EFD9CA",c["Makinas-4-Square"],"50","bold","right"),y(Be,4,"#A84220"),Be.style.zIndex=1e3,u(Be,""),r("resultHiTxt","txt")),Me=(g(Se,N),d(Se,"50%","30%"),h(Se,p,p),f(Se,"#F6E3E9",c["Makinas-4-Square"],"20","bold","right"),y(Se,3,"#743245"),Se.style.zIndex=1e3,u(Se,""),["かんたん","ふつう","むずかしい","デイリーチャレンジ"]),ke=r("levelTxt","txt"),Ie=(g(ke,N),d(ke,"50%","44%"),h(ke,p,p),f(ke,"#C6F2F5",c["Makinas-4-Flat"],"30","bold","right"),y(ke,4,"#2D568D"),ke.style.zIndex=1e3,u(ke,""),r("scoreTxt2","txt")),Te=(g(Ie,N),d(Ie,"42%","58%"),h(Ie,W,q),f(Ie,"#C6F5C9",c["Makinas-4-Square"],"40","bold","right"),y(Ie,4,"#2D8D7F"),Ie.style.zIndex=5e3,u(Ie,""),r("score2","txt")),Ee=(g(Te,N),d(Te,"80%","58%"),h(Te,W,q),f(Te,"#C6F5C9",c.FGMediumHankaku,"52","normal","right"),y(Te,4,"#2D8D7F"),Te.style.zIndex=5e3,u(Te,""),r("rankTxt","txt")),Oe=(g(Ee,N),d(Ee,"30%","77%"),h(Ee,W,p),f(Ee,"#C6F5C9",c["Makinas-4-Square"],"35","bold","right"),y(Ee,4,"#2D8D7F"),Ee.style.zIndex=5e3,u(Ee,""),r("rank","txt")),_e=(g(Oe,N),d(Oe,"45%","75%"),h(Oe,W,p),f(Oe,"#C6F5C9",c["Makinas-4-Flat"],"70","bold","right"),y(Oe,5,"#2D8D7F"),Oe.style.zIndex=5e3,u(Oe,""),["S","A","B","C","D"]),Ne=!1;function De(){if(d(N,ve+"%","50%"),Fe.style.width="540px",Fe.style.height="660px",N.style.width="540px",N.style.height="660px",we.style.width="500px",we.style.height="2px",Fe.style.opacity=Ce,Ne&&3!==T?(u(Se,s("[自己(じこ)]ベスト[更新(こうしん)]！")),Se.style.filter="brightness("+(1+en%2)+")"):Se.style.filter="none",3===T){for(let t=0;t<4;t++){if(v>=bn[A()][t]){gn=t;break}3===t&&(gn=4)}u(Oe,_e[gn]);var t=["#d1dddeff","#f5c6e2ff","#c6d5f2ff","#ffdaadff","#C6F5C9"],e=["#739093ff","#d13f97ff","#3c5c9bff","#765022ff","#2D8D7F"],t=(f(Oe,t[gn],c["Makinas-4-Flat"],"70","bold","right"),y(Oe,5,e[gn]),f(Ee,t[gn],c["Makinas-4-Square"],"35","bold","right"),y(Ee,4,e[gn]),u(Ee,"RANK"),R.year),e=R.month,n=R.date,o=R.day,l=["[日(にち)]","[月(げつ)]","[火(か)]","[水(すい)]","[木(もく)]","[金(きん)]","[土(ど)]"];u(Se,s(t+"[年(ねん)]"+e+"[月(がつ)]"+so(n)+"（"+l[o]+"）"))}u(Be,"RESULT"),u(ke,Me[T]),u(Ie,"スコア"),u(Te,Zt(v))}function Re(){Fe.style.width="0px",Fe.style.height="0px",N.style.width="0px",N.style.height="0px",we.style.width="0px",we.style.height="0px",m(Se),m(Be),m(ke),m(Ie),m(Te),m(Ee),m(Oe)}let Ae=r("levelTxtTitle","txt"),Le=(g(Ae,b),d(Ae,"50%","70%"),h(Ae,p,p),f(Ae,"#FFFFFF",c["Makinas-4-Flat"],"30","bold","right"),Ae.style.zIndex=1e3,u(Ae,""),0),ze=0,Pe=0,He=!1,Je=703.5,Ge=r("finish","img"),t=(g(Ge,b),d(Ge,0,"50%"),h(Ge,p,p),Ge.style.zIndex=1e3,Ge.style.mixBlendMode="normal",G(Ge,""),r("soundOnOff","txt")),Ue=(g(t,b),d(t,"15%","12%"),h(t,U,p),f(t,"#FFFFFF",c["Makinas-4-Square"],"30","bold","right"),t.style.zIndex=1e3,u(t,""),[300,500,1e3]),We="74%",qe=r("HiTxt","txt"),Ye=(g(qe,b),d(qe,"30%",We),h(qe,U,p),f(qe,"#FFFFFF",c["Makinas-4-Flat"],"25","bold","right"),qe.style.zIndex=1e3,u(qe,""),r("Hi","txt")),Ke=(g(Ye,b),d(Ye,"70%",We),h(Ye,q,p),f(Ye,"#FFFFFF",c["Makinas-4-Flat"],"25","bold","right"),Ye.style.zIndex=1e3,u(Ye,""),r("copyRight","txt")),Ve=(g(Ke,b),d(Ke,"100%","100%"),h(Ke,W,q),f(Ke,"#FFFFFF",c["Makinas-4-Flat"],"22","normal","right"),Ke.style.zIndex=1e3,u(Ke,""),{m:0,opacity:0}),Xe=r("clearWhite","other");g(Xe,b),d(Xe,"50%","50%"),h(Xe,p,p),Xe.style.zIndex=5e5,Xe.style.width="0%",Xe.style.height="0%",Xe.style.backgroundColor="#FFFFFF";for(let t=0;t<21;t++)I[t]={m:0,x:Qe(t).x,y:Qe(t).y,type:Math.floor(13*Math.random())},ae[t]=r("button"+t,"img"),g(ae[t],M),d(ae[t],200,100*t),h(ae[t],p,p,0,2.5),ae[t].style.zIndex=10,G(ae[t],""),ie[t]=r("char"+t,"img"),g(ie[t],ae[t]),d(ie[t],"50%","50%"),h(ie[t],p,p),ie[t].style.zIndex=15,re[t]=r("mark"+t,"img"),g(re[t],ae[t]),d(re[t],"50%","50%"),h(re[t],p,p),re[t].style.zIndex=20;for(let t=0;t<ce;t++)se[t]=r("load"+t,"img"),g(se[t],b),d(se[t],"10%",t/ce*100+"%"),h(se[t],p,p),se[t].style.zIndex=-1,se[t].style.visibility="hidden";let je=0;function $e(){3===T&&3===A()&&wn();for(let t=0;t<I.length;t++)I[t].m=0,I[t].exist=0;for(let t=0;t<pe[E()];t++)I[t].x=Qe(t).x,I[t].y=Qe(t).y,I[t].exist=1;var e=[],n=[],o=[5,8,11];for(let t=0;t<ce;t++)e[t]=t,ue[t]={p:0,k:0};for(let t=0;t<o[E()];t++)n[t]=0;for(;;){if(e.length<=o[E()])break;var t=Math.floor(an()*e.length);e.splice(t,1)}var l=Math.floor(an()*e.length),a=(je=e[l],[]);for(let t=0;t<pe[E()];t++)a[t]=t;for(let t=0;t<pe[E()];t++){var i=Math.floor(an()*a.length),r=a[i],i=(a.splice(i,1),Math.floor(an()*e.length));n[i]++,I[r].type=e[i],(2<=n[i]||1<=n[i]&&je===e[i])&&(e.splice(i,1),n.splice(i,1))}3===T&&6===A()&&Sn()}function Qe(t){let e=100;return 0!==oe&&(e=90),{x:ft/2+(t%3-1)*e,y:yt/2+(Math.floor(t/3)-(E()+1))*e}}let D=0,Ze=0,tn=0,en=0;function nn(e=-1){-1===e&&(e=new Date);for(let t=J.daily.length-1;0<=t;t--){var n=J.daily[t].month===e.getMonth()+1,o=J.daily[t].year===e.getFullYear(),l=J.daily[t].date===e.getDate();if(n&&o&&l)return J.daily[t]}return!1}let R={},on=!1;function ln(){if(3===T){var n={};n.year=R.year,n.month=R.month,n.date=R.date,n.rank=gn,n.score=v;let e=!1;for(let t=J.daily.length-1;0<=t;t--){var o=R.month===J.daily[t].month,l=R.year===J.daily[t].year,a=R.date===J.daily[t].date;if(o&&l&&a){J.daily[t]=JSON.parse(JSON.stringify(n)),e=!0;break}}e||J.daily.push(n),32<=J.daily.length&&J.daily.shift(),no()}}function an(){var t,e,n;return 3!==T?Math.random():(t=R.year%300,e=R.month,n=R.date,(null===rn?rn=sn(n+100*e+1e4*t):rn)())}let rn=null;function sn(t){let e=t;return function(){return((e=(e=(e^=e<<13)^e>>>17)^e<<5)>>>0)/4294967296}}let cn=[],un=[];function mn(e,n,o){let l=-1;for(let t=0;t<cn.length;t++)if(cn[t].y===e&&cn[t].m===n&&cn[t].d===o){l=cn[t].cont;break}return l}function dn(e=-1,n=-1,o=-1){if(-1!==mn(e,n,o))return mn(e,n,o);var l=pn.length,a=[];for(let t=1;t<l;t++)a.push(t);-1===e&&(e=(t=new Date).getFullYear(),n=t.getMonth()+1,o=t.getDate());var t=e%300;let i=sn(1e5*o+1e3*n+t+3e3)(),r=0;if(o+100*n<=1214&&e<=2025)t%=100,i=sn(1e4*o+100*n+t+3e3)(),r=Math.floor(i*l);else if(o+100*n===1215&&e<=2025)r=1;else if(o+100*n===1216&&e<=2025)r=5;else if(1===o)r=0;else{for(let t=1;t<=3;t++){var s=o-t;if(2<=s){let t=0;var c=mn(e,n,s),s=(t=-1===c?dn(e,n,s):c,a.indexOf(t));a.splice(s,1)}}r=a[Math.floor(i*a.length)]}return-1===mn(e,n,o)&&cn.push((t={y:e,m:n,d:o,cont:r},JSON.parse(JSON.stringify(t)))),r}function A(){return dn(R.year,R.month,R.date)}let pn=["なし！[実力{じつりょく}][勝負{しょうぶ}]で[挑{いど}]もう！","[連続{れんぞく}][正解{せいかい}]でさらにスコアUP！","パスが[使{つか}]い[放題{ほうだい}]！","2[秒{びょう}]ごとにヒント！なるべく[早{はや}]く[答{こた}]えると[高得点{こうとくてん}]！","7[問{もん}]プレイしたら[終了{しゅうりょう}]！[残{のこ}]り[時間{じかん}]がスコアに！","「ふつう」と「かんたん」が[交互{こうご}]に[出題{しゅつだい}]！","「むずかしい」のみ[出題{しゅつだい}]！ヒントが[時間{じかん}][経過{けいか}]で[変化{へんか}]！"],hn=0,fn=0,yn=0,gn=0,bn=[[2e3,1500,1e3,700],[4500,2e3,700,400],[2e3,1500,1e3,700],[2500,1800,1e3,500],[1900,1400,800,500],[2100,1550,1050,750],[1300,900,600,300]],xn=[],Fn=0,Cn=0;function wn(t=2*w){Cn=t,Fn=0,xn=[];var e=[];for(let t=0;t<pe[E()];t++)e[t]=t;for(let t=0;t<pe[E()];t++){var n=Math.floor(an()*e.length);xn.push(e[n]),e.splice(n,1)}}let vn=[],Bn=0;function Sn(){wn(0),Bn=-1;var n=[],o=[];vn=[];for(let t=0;t<pe[E()];t++)n[t]=!0;for(let e=0;e<pe[E()];e++)for(let t=0;t<n.length;t++)xn[e]!==t&&n[xn[e]]&&n[t]&&I[xn[e]].type===I[t].type&&(o.push([xn[e],t]),n[t]=!1,n[xn[e]]=!1);vn=[[o[0],o[1],o[2],o[3]],[o[4],o[5],o[6],o[7]],[o[8],o[9],o[0],o[1]],[o[2],o[3],o[4],o[5]],[o[6],o[7],o[8],o[9]]]}function Mn(){let t;return 1===A()?1e3<=(t=10*Math.pow(hn+1,2))&&(t=1e3):t=3===A()?[500,200,150,120,100,80,50,10][Fn]:4===A()?7===fn?100+30*Math.ceil(qt/w):100:150,hn++,t}function kn(){let t;return t=1===A()?0:4===A()?30:70}let L=[],z=[],In="https://ramunespark.github.io/amanoJack/",Tn=52,En=!1,On=!1,_n=[0,1,2,3,5,6],Nn=[!0,!1,!0,!0,!1,!0,!1],Dn=6;for(let t=0;t<Dn;t++)L[t]={m:0,x:0,y:"80%",tx:U,ty:p,index:t,path:"",brightness:1,opacity:1,use:!0},z[t]=r("SNS_button"+t,"img"),g(z[t],b),d(z[t],200,100*t),h(z[t],U,i),z[t].style.zIndex=100,z[t].style.width=Tn+"px",z[t].style.height=Tn+"px",o(z[t]).style.transform="scale("+.01*Tn+")",o(z[t]).style.transformOrigin="top left";function Rn(){var e=(ft-Tn*Dn)/(Dn+1);e<Tn/2&&console.log("no way!!");for(let t=0;t<Dn;t++)0===t&&En?L[t].path=Co.src:L[t].path=Fo[_n[t]].src,L[t].m=1,L[t].x=e*(t+1)+Tn*t}function An(){for(let t=0;t<Dn;t++)L[t].m=0}function Ln(t=!0){let e,n="";var o;return 3===T&&(n="（ランク "+_e[gn]+"）"),e=En?(o=["","自己ベスト更新！"],"天邪鬼なパネルを次々に見つけよう！\n『アマノ弱』（アマノジャック）\n\n"+Me[T]+"モード で"+o[Number(Ne)]+"\n"+Zt(v)+"点"+n+" 獲得しました！\n\n"+In):"天邪鬼なパネルを次々に見つけよう！\n『アマノ弱』（アマノジャック）\n"+In,t&&(e+="\n\n#アマノ弱 #ブラウザゲーム"),e}function zn(t){0===_n[t]?En?Vn(Ln()):navigator.share?navigator.share({title:"アマノ弱（アマノジャック）",url:In,text:Ln(!1)}).then(()=>{console.log("シェアします！")}).catch(()=>{qn()}):(qn(),console.log("navigator.share === false")):1===_n[t]?Wn(Pn(Ln())):2===_n[t]?Wn(Hn(Ln())):3===_n[t]?Wn(Jn(Ln())):5===_n[t]?Wn(Gn(Ln())):6===_n[t]&&Wn(Un(Ln(!1)))}function Pn(t){return"https://bsky.app/intent/compose?text="+encodeURIComponent(t)}function Hn(t){return"https://x.com/intent/post?text="+encodeURIComponent(t)}function Jn(t){return"https://misskeyshare.link/share.html?text="+encodeURIComponent(t)}function Gn(t){return"https://taittsuu.com/share?text="+encodeURIComponent(t)}function Un(t){return"https://line.me/R/share?text="+encodeURIComponent(t)}function Wn(t){"iOS"===j?window.location.href=t:window.open(t,"_blank")}function qn(){at({title:s("エラー"),html:s("シェア[機能(きのう)]の[利用(りよう)]に[失敗(しっぱい)]しました。<br><br>・[時間(じかん)]をおいてからブラウザをリロードしたり、[再起動(さいきどう)]したりすると[改善(かいぜん)]する[可能性(かのうせい)]があります。<br>・OSやブラウザなど、[環境(かんきょう)]によっては[正(ただ)]しく[機能(きのう)]しない[場合(ばあい)]があります。<br>・[途中(とちゅう)]で[共有(きょうゆう)]を[中止(ちゅうし)]した[場合(ばあい)]など、[正(ただ)]しく[機能(きのう)]していてもこのエラーが[表示(ひょうじ)]されることがあります。"),confirmButtonText:"OK",confirmButtonColor:"#257EC9",allowOutsideClick:!1,customClass:{popup:"sw2_pop",title:"sw2_titleNormal",htmlContainer:"sw2_normal",confirmButton:"sw2_button",cancelButton:"sw2_button"}},t=>{C[0]="confirm"},0)}function Yn(){at({title:s("エラー"),html:s("クリップボードへのコピーに[失敗(しっぱい)]しました。<br><br>・[時間(じかん)]をおいてからブラウザをリロードしたり、[再起動(さいきどう)]したりすると[改善(かいぜん)]する[可能性(かのうせい)]があります。<br>・OSやブラウザなど、[環境(かんきょう)]によっては[正(ただ)]しく[機能(きのう)]しない[場合(ばあい)]があります。"),confirmButtonText:"OK",confirmButtonColor:"#257EC9",allowOutsideClick:!1,customClass:{popup:"sw2_pop",title:"sw2_titleNormal",htmlContainer:"sw2_normal",confirmButton:"sw2_button",cancelButton:"sw2_button"}},t=>{C[0]="confirm"},0)}function Kn(){at({title:s("クリップボードにコピー"),html:s("クリップボードに[結果(けっか)]をコピーしました。"),confirmButtonText:"OK",confirmButtonColor:"#257EC9",allowOutsideClick:!1,customClass:{popup:"sw2_pop",title:"sw2_titleNormal",htmlContainer:"sw2_normal",confirmButton:"sw2_button",cancelButton:"sw2_button"}},t=>{C[0]="confirm"},0)}function Vn(t){navigator.clipboard&&window.ClipboardItem?(t=new Blob([t],{type:"text/plain"}),t=new ClipboardItem({"text/plain":t}),navigator.clipboard.write([t]).then(()=>{Kn()},()=>{Yn()})):Yn()}let P=0;function Xn(t=!0){let e=r("manualPage","txt"),n=["ゲームルール","アドバイス","デイリーチャレンジについて","セーブについて"];var o=["ゲームのルールは[非常(ひじょう)]にシンプルです。<br>2[枚(まい)]1[組(くみ)]になってアニメーションしているパネルが[表示(ひょうじ)]されますが、1つだけ[孤立(こりつ)]した[天邪鬼(あまのじゃく)]なパネルがあります。<br>それを[見(み)]つけてクリック/タップしてください。<br><br>[時間(じかん)][内(ない)]により[多(おお)]くクリアして、[高得点(こうとくてん)]を[目指(めざ)]しましょう。",`・[間(ま)][違(ちが)]えるとタイムとスコアが[減(へ)]ってしまいますが、×マークが[表示(ひょうじ)]されてヒントになります。すぐに[分(わ)]からず[長時間(ちょうじかん)]かかりそうなときは、うまく[活用(かつよう)]するのも[一手(いって)]かもしれません。<br><br>・アニメーションの[種類(しゅるい)]によって、スピードも[決(き)]まっています。[色(いろ)]んな[情報(じょうほう)]を[参考(さんこう)]にしてください。<br><br>※[残(のこ
        )]りタイムが10[秒(びょう)][以下(いか)]の[場合(ばあい)]は、[間(ま)][違(ちが)]えてもタイムは[減(へ)]りません。また、スコアについても0[点(てん)]は[下(した)][回(まわ)]らない[仕様(しよう)]となります。`,"デイリーチャレンジは、1[日(にち)]1[回(かい)]だけプレイできるゲームです。[通常(つうじょう)]のゲームとの[違(ちが)]いは[下記(かき)]のとおりです。<br><br>・[難易度(なんいど)][選択(せんたく)]やポーズはできません。<br>・[日(ひ)]によっては、いくつかの「[特別(とくべつ)]ルール」のうち一つが[抽選(ちゅうせん)]されることがあります。<br>・[同(おな)]じ[日(ひ)]であれば、どの[端末(たんまつ)]で[遊(あそ)]んでもまったく[同(おな)]じ[問題(もんだい)]になります。<br>・[成績(せいせき)]に[応(おう)]じて、ランクがつきます。なるべく[上(うえ)]のランクを[目指(めざ)]して[集中(しゅうちゅう)]あるのみ！","このゲームでは、ローカルストレージに[難易度(なんいど)][別(べつ)]のハイスコアが[自動(じどう)][的(てき)]に[保存(ほぞん)]されます（サーバーには[保存(ほぞん)]されません）。<br>[他(ほか)]のブラウザに[引(ひ)]き[継(つ)]いだり、[外部(がいぶ)]にバックアップしたりする[手段(しゅだん)]は[用意(ようい)]しておりませんので、[予(あらかじ)]めご[了承(りょうしょう)]ください。<br><br>[消去(しょうきょ)]したい[場合(ばあい)]はタイトル[画面(がめん)]にて「エトセトラ」→「データ[消去(しょうきょ)]」を[選択(せんたく)]し、[赤(あか)]いバーが[最大(さいだい)]になるまで[待機(たいき)]してから[画面(がめん)]の[指示(しじ)]に[従(したが)]ってください。"];let l='[次{つぎ}]のページへ <span style="display:inline-block;transform:rotate(90deg)">▲</span>',a='<span style="display:inline-block;transform:rotate(270deg)">▲</span> [戻{もど}]る';0===P&&(a="[閉{と}じる]"),P===n.length-1&&(l="タイトル[画面{がめん}]へ");let i={};1===[1,1,0,0][P]&&(i={imageUrl:xo[P].src}),at({title:s(n[P]),html:s(o[P]),showCancelButton:!0,confirmButtonText:Y(l),cancelButtonText:Y(a),confirmButtonColor:"#257EC9",cancelButtonColor:"#FF4274",allowOutsideClick:!1,reverseButtons:!0,didOpen:()=>{g(e,Swal.getPopup()),d(e,"99%","99%"),h(e,W,q),f(e,"#FFFFFF",c["NotoSansJP-Medium"],"1em","normal","right"),u(e,P+1+" / "+n.length)},didClose:()=>{e.remove()},...i,customClass:{popup:"sw2_pop",title:"sw2_titleNormal",htmlContainer:"sw2_normal",confirmButton:"sw2_button",cancelButton:"sw2_button"}},t=>{t.isConfirmed?++P<n.length&&Xn():0<=--P&&Xn(!1)},-1,t=>{var e=Swal.getPopup();t.isConfirmed?C[0]="confirm":(C[0]="back",e.classList.remove("animate__fadeOutDown"),e.classList.add("animate__backOutLeft"))},t)}function jn(t=!0){var e=`<span style = "font-size:0.8em">Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
<br><br>
The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.
<br><br>
THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.</span>`;let n=r("page","txt");let o=["The MIT License (MIT)<br>Copyright (c) 2009-2013 Jeff Mott<br>Copyright (c) 2013-2016 Evan Vosberg<br><br>"+e,"The MIT License (MIT)<br>Copyright (c) 2014 Tristan Edwards & Limon Monte<br><br>"+e,"The MIT License (MIT)<br>Copyright (c) 2020 Daniel Eden<br><br>"+e];let l='[次{つぎ}]のページへ <span style="display:inline-block;transform:rotate(90deg)">▲</span>',a='<span style="display:inline-block;transform:rotate(270deg)">▲</span> [戻{もど}]る';0===P&&(a="[閉{と}じる]"),P===o.length-1&&(l="[終{お}わる]"),at({title:`<span style="font-family:${c["Makinas-4-Flat"]}">`+["crypto-js","SweetAlert2","Animate.css"][P]+"<span>",html:Y(o[P]),showCancelButton:!0,confirmButtonText:Y(l),cancelButtonText:Y(a),confirmButtonColor:"#257EC9",cancelButtonColor:"#FF4274",allowOutsideClick:!1,reverseButtons:!0,didOpen:()=>{g(n,Swal.getPopup()),d(n,"99%","99%"),h(n,W,q),f(n,"#FFFFFF",c["NotoSansJP-Medium"],"1em","normal","right"),u(n,P+1+" / "+o.length)},didClose:()=>{n.remove()},customClass:{popup:"sw2_pop",title:"sw2_titleNormal",htmlContainer:"sw2_normal",confirmButton:"sw2_button",cancelButton:"sw2_button"}},t=>{t.isConfirmed?++P<o.length&&jn():0<=--P&&jn(!1)},-1,t=>{var e=Swal.getPopup();t.isConfirmed?C[0]="confirm":(C[0]="back",e.classList.remove("animate__fadeOutDown"),e.classList.add("animate__backOutLeft"))},t)}function $n(){if(en++,"left"===ee[oe]?d(M,"30%","50%"):"right"===ee[oe]?d(M,"70%","50%"):"normal"===ee[oe]&&d(M,"50%","50%"),0===Kt&&"title"!==S)for(let t=0;t<ce;t++)ue[t]=rt(ue[t],de[t],me[t]);if(0!==x||0!==D&&3!==D||(tn+=Math.PI/2*.1,0===D&&tn>=Math.PI/2?(tn=Math.PI/2,D=1,7===fn&&4===A()&&3===T&&(qt=0)):3===D&&tn>=Math.PI&&(tn=0,D=0,yn++,$e())),0===x&&0===Kt&&1===D&&0<qt&&"game"===S){if(3===T&&3===A()){if(--Cn<=0){Cn=2*w;for(let e=0;e<pe[E()];e++)if(0===I[xn[e]].m&&I[xn[e]].type!==je){I[xn[e]].m=1,Fn++;for(let t=0;t<pe[E()];t++)xn[e]!==t&&I[xn[e]].type===I[t].type&&(I[t].m=1);break}}}else if(3===T&&6===A()&&--Cn<=0){-1===Bn?Bn=0:Bn++,Bn%=vn.length,console.log(Bn),Cn=2*w;for(let t=0;t<pe[E()];t++)I[t].m=0;for(let e=0;e<vn[Bn].length;e++)for(let t=0;t<2;t++)I[vn[Bn][e][t]].m=1}if(-1!==Qn){var e=Qn;if(Ze<=0&&0===I[e].m)if(I[e].m=1,I[e].type!==je){C[3]="miss",Fn++;for(let t=hn=0;t<pe[E()];t++)e!==t&&I[e].type===I[t].type&&(I[t].m=1);var n=[50,70,70];let t=0;t=3!==T?n[E()]:kn(),v-=t,k.m=1,k.i=e,k.c="m",k.t="-"+t,v<0&&(v=0),10<Math.ceil(qt/w)&&(qt-=3*w)}else{fn++,C[2]="ok",D=2;n=[60,150,240];let t=Ze=0;t=3!==T?n[E()]:Mn(),4===A()&&3===T&&7===fn?(v+=t,k.t=Math.ceil(qt/w)+"s<br>+"+t):(v+=t,k.t="+"+t),k.m=1,k.i=e,k.c="p"}}}if(2===D?++Ze>w&&(D=3,Ze=0,C[8]="pageShift"):1===D&&--Ze<=0&&(Ze=0),"title"!==S&&"titleToGame"!==S)for(let t=0;t<I.length;t++)t<pe[E()]&&1===I[t].exist?(Je<=-563.5&&"answer"===S&&je===I[t].type&&(I[t].m=1,7===fn&&4===A()&&3===T||He||(C[5]="answer",He=!0)),1===I[t].m?(je===I[t].type?G(re[t],Eo.src):G(re[t],Oo.src),re[t].style.opacity=en%2):m(re[t]),d(ae[t],I[t].x,I[t].y),G(ae[t],po.src),G(ie[t],yo[I[t].type][ue[I[t].type].p].src)):(m(ae[t]),m(ie[t]),m(re[t]));if(1===D&&0<Ze?M.style.opacity=.7:M.style.opacity=1,0===Kt?(0===x&&"game"===S&&(1===D&&(qt--,Math.ceil(qt/w)<=10)&&0<Math.ceil(qt/w)&&qt%w==0&&(C[9]="count"),qt<=0)&&(qt=0,O[7].m=0,S="answer",He=!1,C[5]="finish"),1<=(Vt+=.2)&&(Vt=1)):1===Kt&&(Vt-=.2)<=0&&(Vt=0),h(M,p,p,0,1,Math.sin(tn)*Vt),"title"===S){0===B[0].m&&0===x&&(B[0].m=1),Rn();for(let t=0;t<4;t++){var o,l;1===B[t].m?(B[t].time++,B[t].rotate=0,B[t].opacity+=.1,1<=B[t].opacity&&(B[t].opacity=1,B[t].m=2,B[t].time=Math.floor(Math.random()*w*5)+4*w),B[t].y=30+3*(1-B[t].opacity)):2===B[t].m&&0===t?(B[t].time--,B[t].time<=0&&(B[t].time=Math.floor(Math.random()*w*5)+4*w,o=Math.floor(3*Math.random()),l=[-1,1],B[t].vec=l[Math.floor(Math.random()*l.length)],2===B[o].m)&&(-1===B[t].vec&&(B[t].rotate=360),B[o].m=3)):3===B[t].m&&(B[t].rotate+=360/(.7*w)*B[t].vec,360<=B[t].rotate&&1===B[t].vec||B[t].rotate<=0&&-1===B[t].vec)&&(B[t].rotate=0,B[t].m=2),0<t&&0===B[t].m&&(3<=B[t-1].time&&1===B[t-1].m||2<=B[t-1].m)&&(B[t].m=1),d(Gt[t],"50%",B[t].y+"%"),Gt[t].style.opacity=B[t].opacity,h(Gt[t],p,p,B[t].rotate),G(Gt[t],wo[t].src)}O[3].m=1,O[3].x="50%",O[3].y="60%",O[3].path=vo.src,O[8].m=1,O[8].x="50%",O[8].y="52%",O[8].path=Bo.src,O[9].m=1,O[9].x="1%",O[9].tx="0%",O[9].y="12%",O[9].ty="-50%",O[9].path=So.src,O[4].m=1,O[4].x="15%",O[4].y="72%",O[4].path=Mo.src,O[5].m=1,O[5].x="85%",O[5].y="72%",O[5].path=ko.src,O[6].m=1,O[6].x="75%",O[6].y="92%",O[6].path=Io.src,O[7].m=1,O[7].x="99%",O[7].tx="-100%",O[7].y="12%",O[7].ty="-50%",O[7].path=go[oe].src,d(t,"15%","12%"),ze+=2*Math.PI*(1/w),1===Le?(t.style.opacity=1,K(t,"#C6F5C9"),y(t,4,"#2D8D7F"),u(t,"SEのみ")):2===Le?(t.style.opacity=1,u(t,"SE + BGM"),K(t,"#F5C6CE"),y(t,4,"#94395B")):(t.style.opacity=.5,K(t,"#9CDBED"),y(t,4,"#224B7C"),u(t,"OFF")),3===H&&(C[0]="confirm",3!==T?(ut=0,S="titleToGame"):(v=0,jt=!0,n=`<span style = "font-weight:bold">[本日{ほんじつ}]の[追加{ついか}]ルール<br><span style = "color:#FFFF00">${pn[A()]}</span></span>`,nn()?at({title:"デイリーチャレンジ",html:Y("デイリーチャレンジは、1[日{にち}]1[回{かい}]だけプレイできます。<br>[今日{きょう}]のチャレンジはプレイ[済{ず}]みです。<br><br>"+n),showCancelButton:!0,showConfirmButton:!1,confirmButtonText:"スタート",cancelButtonText:"キャンセル",confirmButtonColor:"#FF4274",cancelButtonColor:"#FF4274",allowOutsideClick:!1,reverseButtons:!0,customClass:{popup:"sw2_pop",title:"sw2_titleNormal",htmlContainer:"sw2_normal",confirmButton:"sw2_button",cancelButton:"sw2_button"}},t=>{C[0]="back"},0):at({title:"デイリーチャレンジ",html:Y("デイリーチャレンジは、1[日{にち}]1[回{かい}]だけプレイできるゲームです。<br>[途中{とちゅう}]でポーズややり[直{なお}]しはできませんので、ご[注意{ちゅうい}]ください。<br><br>"+n),showCancelButton:!0,confirmButtonText:"スタート",cancelButtonText:"キャンセル",confirmButtonColor:"#257EC9",cancelButtonColor:"#FF4274",allowOutsideClick:!1,reverseButtons:!0,customClass:{popup:"sw2_pop",title:"sw2_titleNormal",htmlContainer:"sw2_normal",confirmButton:"sw2_button",cancelButton:"sw2_button"}},t=>{t.isConfirmed?(ut=0,S="titleToGame",C[0]="confirm",setTimeout(()=>{jt=!1},1e3)):(jt=!1,C[0]="back")},0))),9===H&&(setTimeout(()=>{C[7]="ready"},10),Le=ot(++Le,3)),4===H?(C[1]="select",T--,J.level=T,no()):5===H&&(C[1]="select",T++,J.level=T,no()),7===H&&le(),8===H&&(P=0,Xn(),C[0]="confirm"),6===H&&0===ye&&(C[0]="confirm",ye=1,ge=0,xe.appendChild(_[10]),xe.appendChild(_[11]),xe.appendChild(_[12]),xe.appendChild(_[13]),xe.appendChild(_[14])),1===ye?(ge+=.1,be.style.width=ft+"px",xe.style.width=ft+"px",be.style.height=yt+"px",xe.style.height=yt+"px",O[10].use=!1,O[11].use=!1,O[12].use=!1,O[13].use=!1,O[14].use=!1,1<=ge&&(ge=1,ye=2),O[10].m=1,O[10].x="50%",O[10].y="35%",O[10].path=_o.src,O[11].m=1,O[11].x="50%",O[11].y="45%",O[11].path=No.src,O[12].m=1,O[12].x="50%",O[12].y="55%",O[12].path=Do.src,O[13].m=1,O[13].x="50%",O[13].y="65%",O[13].path=Ro.src,O[14].m=1,O[14].x="80%",O[14].y="25%",O[14].path=Ao.src):2===ye?(O[10].use=!0,O[11].use=!0,O[12].use=!0,O[13].use=!0,O[14].use=!0,14===H?(ye=3,C[0]="back"):10===H?(C[0]="confirm",ye=3,setTimeout(()=>{Wn("https://ramunespark.github.io/")},500)):11===H?(C[0]="confirm",at({title:"クレジット",html:'メインプログラム<br>イラスト・ピクセルアート<br>UIデザイン<br>ミュージックコンポーザー<br>サウンドFX<br>プラン・ディレクション<br><br><span style="color:#FFFF00">・ラムネ</span>',confirmButtonText:Y("[閉{と}じる]"),confirmButtonColor:"#257EC9",allowOutsideClick:!1,customClass:{popup:"sw2_pop",title:"sw2_titleNormal",htmlContainer:"sw2_normal",confirmButton:"sw2_button",cancelButton:"sw2_button"}},t=>{C[0]="back"})):12===H?(C[0]="confirm",P=0,jn()):13===H&&(ye=3,uo())):3===ye&&(ge-=.1,O[10].use=!1,O[11].use=!1,O[12].use=!1,O[13].use=!1,O[14].use=!1,ge<=0)&&(be.style.width="0px",xe.style.width="0px",be.style.height="0px",xe.style.height="0px",b.appendChild(_[10]),b.appendChild(_[11]),b.appendChild(_[12]),b.appendChild(_[13]),b.appendChild(_[14]),O[10].m=0,O[11].m=0,O[12].m=0,O[13].m=0,O[14].m=0,O[10].use=!0,O[11].use=!0,O[12].use=!0,O[13].use=!0,O[14].use=!0,ge=0,ye=0),be.style.opacity=ge,xe.style.opacity=ge,T=ot(T,Me.length);var n=new Date;jt&&R.dateData||(R.year=n.getFullYear(),R.month=n.getMonth()+1,R.date=n.getDate(),R.day=n.getDay()),3!==T?(u(qe,"Hi -"),u(Ye,Zt(Ue[T])),K(Ye,"#FFFFFF")):(u(qe,mo(R.month)+"/"+mo(R.date)),(n=nn(n))?(u(Ye,Zt(n.score)+" "+_e[n.rank]),K(Ye,"#FFFF00")):(u(Ye,"--"),K(Ye,"#FFFFFF"))),u(Ae,Me[T]),u(Ke,"&copy;2025　RAMUNE SPARK")}if("titleToGame"===S){let e=0;for(let t=0;t<4;t++)B[t].opacity-=.1,B[t].opacity<=0&&(B[t].opacity=0,e++),Gt[t].style.opacity=B[t].opacity;4<=e&&(0===ut&&Qt(),ut++),ut>=w&&($t(),S="game",ut=0)}if(0!==x||"game"!==S&&"answer"!==S?100<=(Yt+=20)&&(Yt=100):((Yt-=20)<=-100&&(Yt=-100),u(Pt,"スコア"),u(Ht,Zt(v)),Math.ceil(qt/w)<=10?(f(Jt,"#F5C6C6",c.FGMediumHankaku,"75","normal","right"),y(Jt,4,"#8D2D2D")):(f(Jt,"#C6F2F5",c.FGMediumHankaku,"55","normal","right"),y(Jt,4,"#2D568D")),7===fn&&4===A()&&3===T||u(Jt,Zt(Math.ceil(qt/w)))),0===x&&"answer"===S&&(ut++,Je-=40,Pe<=.8*w&&Je<=270&&(Pe++,Je=270),7===fn&&4===A()&&3===T&&ut>=1.5*w&&(ut=3.5*w),Je<=-563.5&&(Je=-563.5),d(Ge,Je,"50%"),G(Ge,fo.src),ut>=3.5*w)&&Je<=-263.5){ut=0,Pe=0,Je=703.5,v>Ue[E()]&&3!==T&&(Ue[E()]=v,J.hi=JSON.parse(JSON.stringify(Ue)),Ne=!0),io(),no(),m(Ge);for(let t=0;t<Dn;t++)N.appendChild(z[t]),L[t].use=!1,L[t].y="87%";En=!0,Rn(),S="result",on=!1,C[5]="result",Xt=!1,O[1].use=!1,O[2].use=!1,N.appendChild(_[1]),N.appendChild(_[2]),Ce=0,ve=150}if(0===x&&"game"===S?(3!==T?(O[0].m=1,O[0].path=ho.src,O[0].opacity=.5,O[0].x="3%",O[0].y="5%",O[0].tx=U,O[0].ty=p):3===T&&2===A()?(O[0].m=1,O[0].path=Lo.src,O[0].opacity=1,0===oe?(O[0].x="50%",O[0].y="80%",O[0].tx=p,O[0].ty=p):1===oe?(O[0].x="94%",O[0].y="78%",O[0].tx=W,O[0].ty=p):2===oe&&(O[0].x="6%",O[0].y="78%",O[0].tx=U,O[0].ty=p)):O[0].m=0,O[7].m=1,O[7].x="99%",O[7].tx="-100%",O[7].y="5%",O[7].ty="-50%",O[7].path=go[oe].src,7===H&&le(),1===D?(O[0].use=!0,O[0].opacity=1):(O[0].use=!1,O[0].opacity=.3),0===H&&(3!==T?(C[4]="pause",(0===(Kt^=1)?An:Rn)()):3===T&&2===A()&&(D=2,Ze=w-1))):O[0].m=0,"game"===S&&1===Kt?(u(Ut,"PAUSE !"),Ut.style.opacity=Math.floor(en/(w/2))%2):m(Ut),0===Kt&&(1===k.m&&(k.m=2,k.x=640,k.time=0),2===k.m?(k.x-=60,k.x<=Qe(k.i).x&&k.time<=w/2&&(k.x=Qe(k.i).x,k.time++),te.style.filter="brightness("+(1+en%2)+")",d(te,k.x,Qe(k.i).y),u(te,k.t),"p"===k.c?(f(te,"#C6F5C9",c.FGMediumHankaku,"52","normal","center"),y(te,4,"#2D8D7F")):"m"===k.c&&(f(te,"#F5C6CE",c.FGMediumHankaku,"52","normal","center"),y(te,4,"#94395B")),k.x<=-100&&(k.m=0)):m(te)),h(Pt,W,Yt+"%"),h(Ht,W,Yt+"%"),h(Jt,p,Yt+"%"),"result"===S){if(1<=(Ce+=.1)&&(Ce=1),(ve-=5)<=50){ve=50,O[1].use=!0,O[2].use=!0,Ne&&!Xt&&(C[2]="ok",Xt=!0);for(let t=0;t<Dn;t++)L[t].use=!0}for(let t=0;t<2;t++){var a=[1,2][t],i=[25,75];O[a].m=1,O[a].x=i[t]+"%",O[a].y="75%",O[a].path=bo[t].src}if(3===T&&(O[1].m=0),1===H){En=!1,J.result.on=!1,no(),S="retryReady",C[0]="confirm";for(let t=0;t<Dn;t++)L[t].use=!1}else if(2===H){En=!1,J.result.on=!1,no(),S="titleReady",C[0]="confirm";for(let t=0;t<Dn;t++)L[t].use=!1;C[5]="stop"}De(),3!==T||on||(ln(),on=!0)}if("retryReady"===S||"titleReady"===S){if((Ce-=.1)<=0&&(Ce=0),(ve-=5)<=-50){ve=-50,O[1].m=0,O[2].m=0,An();for(let t=0;t<Dn;t++)b.appendChild(z[t]),L[t].use=!0,L[t].y="80%";b.appendChild(_[1]),b.appendChild(_[2])}De(),0<tn&&(tn+=Math.PI/2*.1),tn>=Math.PI&&(tn=0),Ce<=0&&ve<=-50&&0===tn&&(Re(),S="retryReady"===S?($t(),"game"):"title")}G(Lt,To.src),Qn=-1;for(let t=0;t<15;t++){O[t].brightness-=.1;var r=lt(O[t].brightness,[1,1],[2.5,.3]);O[t].brightness<=1&&(O[t].brightness=1),0===O[t].m?(O[t].brightness=1,m(_[t])):(_[t].style.filter="brightness("+O[t].brightness+")",_[t].style.opacity=O[t].opacity*r,d(_[t],O[t].x,O[t].y),h(_[t],O[t].tx,O[t].ty),G(_[t],O[t].path))}for(let t=0;t<Dn;t++){L[t].brightness-=.1;var s=lt(L[t].brightness,[1,1],[2.5,.3]);L[t].brightness<=1&&(L[t].brightness=1),0===L[t].m?(L[t].brightness=1,m(z[t])):(z[t].style.filter="brightness("+L[t].brightness+")",z[t].style.opacity=L[t].opacity*s,d(z[t],L[t].x,L[t].y),G(z[t],L[t].path))}1===Ve.m&&(Ve.opacity-=.05,Ve.opacity<=0&&(Ve.opacity=0,Ve.m=2),Xe.style.width="100%",Xe.style.height="100%",Xe.style.opacity=Ve.opacity),2===Ve.m&&(Ve.m=0,Xe.style.width="0%",Xe.style.height="0%",Xe.style.opacity=1),H=-1}for(let t=0;t<21;t++)nt(ae[t],()=>{Qn=t});for(let t=0;t<15;t++)nt(_[t],()=>{0===x&&1===O[t].m&&O[t].use&&!On&&(H=O[t].index,O[t].brightness=2.5)});for(let t=0;t<Dn;t++)nt(z[t],()=>{0===x&&1===L[t].m&&L[t].use&&!On&&(Nn[_n[t]]&&(L[t].brightness=2.5),On=!0,C[0]="confirm",setTimeout(()=>{On=!1,zn(t)},500))});let Qn=-1,H=-1;function Zn(){V.forEach(t=>{m(t)})}document.body.addEventListener("touchmove",t=>{1<t.touches.length&&t.preventDefault()},{passive:!1}),window.oncontextmenu=function(t){return t.stopPropagation(),!1},window.addEventListener("touchstart",function(t){t.target.closest(".swal2-container")||t.preventDefault()},{passive:!1});let J=null;function to(t,e){t=JSON.stringify(t);return CryptoJS.AES.encrypt(t,e).toString()}function eo(t,e){t=CryptoJS.AES.decrypt(t,e).toString(CryptoJS.enc.Utf8);return JSON.parse(t)}function no(){var t=to(J,"43789");localStorage.setItem("amanoJack_data",t)}function oo(){var t=JSON.parse(JSON.stringify(J.daily));J=null,localStorage.removeItem("amanoJack_data"),lo(),J.daily=JSON.parse(JSON.stringify(t)),no()}function lo(){var t=localStorage.getItem("amanoJack_data");J=null!==t?eo(t,"43789"):{hi:JSON.parse(JSON.stringify(he)),level:fe,hand:ne,result:{on:!1,time:null,score:0,hi:!1,sound:0,stage:JSON.parse(JSON.stringify(I)),amanoNumber:0},daily:[]},ao(),Ue=J.hi,T=J.level,oe=J.hand,I=JSON.parse(JSON.stringify(J.result.stage)),je=J.result.amanoNumber}function ao(){J.daily||(J.daily=[]),no()}function io(){var t=new Date;J.result.on=!0,J.result.time=t.getTime(),J.result.year=t.getFullYear(),J.result.month=t.getMonth(),J.result.date=t.getDate(),J.result.day=t.getDay(),J.result.hour=t.getHours(),J.result.minute=t.getMinutes(),J.result.daily=JSON.parse(JSON.stringify(R)),J.result.score=v,J.result.hi=Ne,J.result.sound=Le,J.result.stage=JSON.parse(JSON.stringify(I)),J.result.amanoNumber=je}lo();let ro=!1;function so(t){var e=[];for(let t=1;t<=31;t++)e[t]="null";return e[1]="ついたち",e[2]="ふつか",e[3]="みっか",e[4]="よっか",e[5]="いつか",e[6]="むいか",e[7]="なのか",e[8]="ようか",e[9]="ここのか",e[10]="とおか",e[14]="じゅうよっか",e[20]="はつか",e[24]="にじゅうよっか","null"!==e[t]?"["+t+"日("+e[t]+")]":t+"[日(にち)]"}function co(){var t=J.result,e=so(t.date),e=t.year+"[年(ねん)]"+(t.month+1)+"[月(がつ)]"+e+"（"+["[日(にち)]","[月(げつ)]","[火(か)]","[水(すい)]","[木(もく)]","[金(きん)]","[土(ど)]"][t.day]+"）",t=mo(t.hour)+":"+mo(t.minute);at({title:s("リザルトの[再(さい)][表示(ひょうじ)]"),html:s('<span style = "color:#EF95A6;font-weight:bold">'+e+" "+t+"</span><br><br>[上記(じょうき)]の[直近(ちょっきん)]でのプレイ[記録(きろく)]が[残(のこ)]っています。<br>リザルト[画面(がめん)]をもう[一度(いちど)][表示(ひょうじ)]しますか？"),showCancelButton:!0,confirmButtonText:s("[表示(ひょうじ)]"),cancelButtonText:"キャンセル",confirmButtonColor:"#257EC9",cancelButtonColor:"#FF4274",allowOutsideClick:!1,reverseButtons:!0,didClose:()=>{},customClass:{popup:"sw2_pop",title:"sw2_titleNormal",htmlContainer:"sw2_normal",confirmButton:"sw2_button",cancelButton:"sw2_button"}},t=>{if(t.isConfirmed){on=!0,S="result",v=J.result.score,Ne=J.result.hi,Le=J.result.sound,R=JSON.parse(JSON.stringify(J.result.daily)),ct="game",Qt(),De(),ut=0,Pe=0,Je=703.5,io(),no(),m(Ge),En=!0,S="result",Xt=!0,setTimeout(()=>{C[7]="ready"},500),setTimeout(()=>{C[5]="result"},800);for(let t=0;t<Dn;t++)N.appendChild(z[t]),L[t].use=!1,L[t].y="87%";Rn(),O[1].use=!1,O[2].use=!1,N.appendChild(_[1]),N.appendChild(_[2]),Ce=0,ve=150}else J.result.on=!1,no(),ct="game",ut=0,Pe=0,Je=703.5})}function uo(){C[0]="confirm";let n=0,o=null,l=(ye=3,document.createElement("div"));at({title:s("データ[消去(しょうきょ)][確認(かくにん)]"),html:s('[自己(じこ)]ベストデータを[消去(しょうきょ)]しますか？<br><span style = "color: #FF5555; font-weight: bold">※[一度(いちど)][消去(しょうきょ)]したデータは、[元(もと)]に[戻(もど)]せません！</span>'),showCancelButton:!0,confirmButtonText:s("[消去(しょうきょ)]する"),cancelButtonText:"やめる",confirmButtonColor:"#FF4274",cancelButtonColor:"#257EC9",allowOutsideClick:!1,reverseButtons:!0,didOpen:()=>{let t=Swal.getConfirmButton(),e=(t&&(t.disabled=!0,t.style.opacity=.1),0);Swal.getPopup().appendChild(l),l.style.position="absolute",l.style.left="5%",l.style.top="100%",l.style.overflow="hidden",l.style.backgroundColor="#FF0000",l.style.transform="translate(0%, -100%) scaleX(0%)",l.style.transformOrigin="center left",l.style.width="90%",l.style.height="0.3em",o=setInterval(()=>{n++,100<(e=n/(8*w)*100)&&(e=100),l.style.transform="translate(0%, -100%) scaleX("+e+"%)",t&&n>=8*w&&(t.disabled=!1,t.style.opacity=1,null!==o)&&(clearInterval(o),o=null)},Ot)},customClass:{popup:"sw2_pop",title:"sw2_titleNormal",htmlContainer:"sw2_normal",confirmButton:"sw2_button",cancelButton:"sw2_button"}},t=>{var e=Swal.getPopup();null!==o&&(clearInterval(o),o=null,l.remove()),t.isConfirmed?(e.classList.remove("animate__backOutRight"),e.classList.add("animate__rotateOut"),C[5]="allClear",oo(),Ve.m=1,Ve.opacity=1):C[0]="back"},0)}function mo(t){let e=t<10?"0"+t:t;return e}J.result.on?(ct="check",console.log(J.result.time),console.log((new Date).getTime()),(new Date).getTime()-J.result.time<=18e5||(J.result.on=!1,no(),ct="game")):ct="game";let po=document.createElement("img"),ho=(po.src="image/panel/base.png",document.createElement("img")),fo=(ho.src="image/pause.png",document.createElement("img")),yo=(fo.src="image/finish.png",[]);for(let e=0;e<ce;e++){yo[e]=[];for(let t=0;t<me[e];t++)yo[e][t]=document.createElement("img"),yo[e][t].src="image/panel/"+e+"_"+t+".png"}let go=[];for(let t=0;t<3;t++)go[t]=document.createElement("img"),go[t].src="image/handButton"+t+".png";let bo=[];for(let t=0;t<2;t++)bo[t]=document.createElement("img"),bo[t].src="image/end_button"+t+".png";let xo=[];for(let t=0;t<2;t++)xo[t]=document.createElement("img"),xo[t].src="image/howTo"+t+".png";let Fo=[];for(let t=0;t<7;t++)Fo[t]=document.createElement("img"),Fo[t].src="sys/shareButton"+t+".webp";let Co=document.createElement("img"),wo=(Co.src="sys/shareButton0c.webp",[]);for(let t=0;t<4;t++)wo[t]=document.createElement("img"),wo[t].src="image/logoMini"+t+".png";let vo=document.createElement("img"),Bo=(vo.src="image/startButton.png",document.createElement("img")),So=(Bo.src="image/howToButton.png",document.createElement("img")),Mo=(So.src="image/sound_button.png",document.createElement("img")),ko=(Mo.src="image/left_button.png",document.createElement("img")),Io=(ko.src="image/right_button.png",document.createElement("img")),To=(Io.src="image/etcButton.png",document.createElement("img")),Eo=(To.src="image/bg.webp",document.createElement("img")),Oo=(Eo.src="image/panel/OK.png",document.createElement("img")),_o=(Oo.src="image/panel/miss.png",document.createElement("img")),No=(_o.src="image/homePageButton.png",document.createElement("img")),Do=(No.src="image/creditButton.png",document.createElement("img")),Ro=(Do.src="image/licenseButton.png",document.createElement("img")),Ao=(Ro.src="image/clearButton.png",document.createElement("img")),Lo=(Ao.src="image/backButton.png",document.createElement("img"));Lo.src="image/passButton.png";